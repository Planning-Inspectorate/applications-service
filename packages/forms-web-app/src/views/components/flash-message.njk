{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

{%- if flashMessages.length > 0 -%}
  <div data-cy="flash-message-container">
    {%- for flashMessage in flashMessages -%}
      {% if flashMessage.type === 'success' %}
        {% set titleHtml = t('common.success') %}
      {% endif %}
      {{- govukNotificationBanner({
        type: flashMessage.type,
        titleHtml: titleHtml,
        html: flashMessage.template.path | render(flashMessage.template.vars | default({}), t),
        attributes: { "data-cy": "flash-message-%1-%2" | replace('%1', flashMessage.type) | replace('%2', loop.index) }
      }) -}}
    {%- endfor -%}
  </div>
{%- endif -%}






