{% extends "layouts/project-3-columns.njk" %}
{% from "../macros/pagination-bar.njk" import paginationBar %}

{% set activeProjectLink = 'representations' %}

{% block columnTwo %}
  <div class="govuk-grid-row">
    <a class="govuk-back-link" href="/projects/{{ caseRef }}/representations" data-cy="back">Back to list</a>
    <div class="pins-govuk-result-list">
      <span class="govuk-caption-l">Representation by</span>
      <h1 class="govuk-heading-l">
        {{ RepFrom }}
      </h1>
      <p class="govuk-body">
        {{ RepresentationRedacted }}
      </p>

      <div class="govuk-grid-row document-metadata">
        <div class="govuk-grid-column-one-third">
          {{ DateRrepReceived | date }}
        </div>
        <div class="govuk-grid-column-one-third">
          {{ RepFrom }}
        </div>
        <div class="govuk-grid-column-one-third">
          {% if attachments | length > 0 %} Contains attachment(s) {% endif %}
        </div>
      </div>
      {% if attachments | length > 0 %}
        <div class="pins-govuk-result-list__item">
          <h1 class="govuk-heading-m">Attachment(s)</h1>

          {% for attachment in attachments %}
            <a class="govuk-link pins-govuk-result-list__item-title" href="{{ attachment.path }}" target="_blank">
              {{ attachment.description or attachment.personal_name  }} ({{ attachment.mime | formatMimeType }}, {{ attachment.size | formatBytes }}) (opens in new window)
            </a>
          {% endfor %}
          {# <a class="govuk-link pins-govuk-result-list__item-title" href="{{ Attachments }}" target="_blank">
            {{ Attachments  }} ( {{ formatMimeType }}, {{ formatBytes }})
            </a> #}
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}