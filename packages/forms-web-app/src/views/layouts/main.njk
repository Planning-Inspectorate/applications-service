{% extends "govuk/template.njk" %}

{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "pins/components/header/macro.njk" import pinsHeader %}
{% from "pins/components/footer/macro.njk" import pinsFooter %}

{% block head %}
  {% include "includes/head.njk" %}
  <!--[if lte IE 8]><link href="/public/stylesheets/unbranded-ie8.css" rel="stylesheet" type="text/css" /><![endif]-->
  <!--[if gt IE 8]><!--><link href="/public/stylesheets/unbranded.css" media="all" rel="stylesheet" type="text/css"/>
  <!--<![endif]-->

  {% for stylesheetUrl in extensionConfig.stylesheets %}
    <link href="{{ stylesheetUrl }}" rel="stylesheet" type="text/css"/>
  {% endfor %}
{% endblock %}

{% block header %}
  {% include "includes/cookie-banner.njk" %}

  {{ pinsHeader({
    homepageUrl: "/",
    serviceName: serviceName,
    serviceUrl: "/",
    containerClasses: "govuk-width-container"
  }) }}
{% endblock %}

{% block bodyStart %}
  {% include "includes/body-start.njk" %}
{% endblock %}

{% set mainClasses = mainClasses | default("govuk-main-wrapper--auto-spacing") %}

{% block main %}
  <div class="govuk-width-container govuk-body {{ containerClasses }}">

    <main id="main-content" role="main"{% if mainLang %} lang="{{ mainLang }}"{% endif %}>
      {% block phaseBanner %}
        {{ govukPhaseBanner({
          tag: {
            text: "beta"
          },
          html: 'This is a beta service â€“ your <a class="govuk-link" data-cy="Feedback" href="https://forms.office.com/Pages/ResponsePage.aspx?id=mN94WIhvq0iTIpmM5VcIjVqzqAxXAi1LghAWTH6Y3OJUMTNIVDdHTTdWRFU5MlRQRFczNzdPNDRHQS4u">feedback</a> will help us to improve it.'
        }) }}
      {% endblock %}

      {% block backButton %}
        {% if not hideBackLink %}
          {{ govukBackLink({
            text: "Back",
            href: "javascript:history.back()",
            attributes: {
              'data-cy': 'back'
            }
          }) }}
        {% endif %}
      {% endblock %}

      <div class="govuk-main-wrapper {{ mainClasses }}">
        {% block content %}{% endblock %}
      </div>
    </main>
  </div>
{% endblock %}

{% block bodyEnd %}
  {% block scripts %}
    {% include "includes/scripts.njk" %}
    {% block pageScripts %}{% endblock %}
  {% endblock %}
{% endblock %}

{% set a_href = "https://www.gov.uk/government/publications/planning-inspectorate-privacy-notices/customer-privacy-notice" %}

{% if host %}
  {% set tc_href = host + 'terms-and-conditions' %}
  {% set sm_href = host + 'sitemap' %}
  {% set ac_href = host + 'accessibility' %}
  {% set ck_href = host + 'cookies' %}
{% endif %}

{% block footer %}
  {{ pinsFooter({
        items: [
              {
                href: sm_href,
                text: "Sitemap",
                attributes: { "data-cy":"Privacy" }
              },
              {
                href: tc_href,
                text: "Terms and conditions",
                attributes: { "data-cy":"Terms and conditions" }
              },
              {
                href: ac_href,
                text: "Accessibility",
                attributes: { "data-cy":"Accessibility" }
              },
              {
                href: "https://www.gov.uk/government/publications/planning-inspectorate-privacy-notices/customer-privacy-notice",
                text: "Privacy Notice (on GOV.UK)",
                attributes: { "data-cy":"Privacy Notice (on GOV.UK)" }
              },
              {
                href: ck_href,
                text: "Cookies",
                attributes: { "data-cy":"Cookies" }
              }
            ]
      })
    }}
{% endblock %}