{% from "components/ui/step-by-step-navigation.njk" import stepByStepNavigation %}

{% set params = {
  steps: [
    {
      heading: {
        text: processGuide.steps.preApplication.title
      },
      content: {
        text: processGuide.steps.preApplication.content
      },
      subList: [
        {
          text: processGuide.steps.preApplication.linkText,
          href: processGuide.steps.preApplication.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.acceptance.title
      },
      content: {
        text: processGuide.steps.acceptance.content
      },
      subList: [
        {
          text: processGuide.steps.acceptance.linkText,
          href: processGuide.steps.acceptance.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.preExamination.title
      },
      content: {
        text: processGuide.steps.preExamination.content
      },
      subList: [
        {
          text: processGuide.steps.preExamination.linkText,
          href: processGuide.steps.preExamination.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.examination.title
      },
      content: {
        text: processGuide.steps.examination.content
      },
      subList: [
        {
          text: processGuide.steps.examination.linkText,
          href: processGuide.steps.examination.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.recommendation.title
      },
      content: {
        text: processGuide.steps.recommendation.content
      },
      subList: [
        {
          text: processGuide.steps.recommendation.linkText,
          href: processGuide.steps.recommendation.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.decision.title
      },
      content: {
        text: processGuide.steps.decision.content
      },
      subList: [
        {
          text: processGuide.steps.decision.linkText,
          href: processGuide.steps.decision.url
        }
      ]
    }, {
      heading: {
        text: processGuide.steps.postDecision.title
      },
      content: {
        text: processGuide.steps.postDecision.content
      },
      subList: [
        {
          text: processGuide.steps.postDecision.linkText,
          href: processGuide.steps.postDecision.url
        }
      ]
    }
  ]
} %}

{% if templateID !== 'main' %}
  {% set params = {
    pretitle: t('common.partOf'),
    title: processGuide.steps.index.title,
    url: processGuide.steps.index.url,
    steps: params.steps
  } %}
{% endif %}

{% set state = 'static' %}

{% if templateID === 'main' %}
  {% set state = 'dynamic' %}
{% endif %}

{{ stepByStepNavigation(params, processGuide.activeStep.step, templateID, state, t) }}