{% extends "layouts/register-main.njk" %}

{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% set title = "Who are you registering for - Register to have your say about a national infrastructure project -  National Infrastructure Planning" %}

{% block pageTitle %}
	{% if errors %}
		{% set title = "Error: " + title %}
	{% endif %}
	{{ title }}
{% endblock %}

{% block content %}
	<div class="govuk-grid-row">
		<div class="govuk-grid-column-two-thirds">
			{% if errors %}
				{{ govukErrorSummary({
					titleText: "There is a problem",
					errorList: errorSummary
				}) }}
			{% endif %}

			<form action="" method="post" novalidate>

				{#        text: t(["register.who-are-you-registering-for.errors.", errors['type-of-party'].msg ] | join) #}

				{{ govukRadios({
					idPrefix: "type-of-party",
					name: "type-of-party",
					errorMessage: errors['type-of-party'] and {
						text: errors['type-of-party'].msg
					},
					fieldset: {
						legend: {
							text: t("register.who-are-you-registering-for.heading"),
							isPageHeading: true,
							classes: "govuk-fieldset__legend--l"
						}
					},
					items: [
						{
							value: "myself",
							text: t("register.who-are-you-registering-for.options.one"),
							attributes: { "data-cy": "answer-mySay"},
							checked: type === "myself"
						},
						{
							value: "organisation",
							text: t("register.who-are-you-registering-for.options.two"),
							attributes: { "data-cy": "answer-organisation"},
							checked: type === "organisation"
						},
						{
							value: "behalf",
							text: t("register.who-are-you-registering-for.options.three"),
							attributes: { "data-cy": "answer-behalf"},
							checked: type === "behalf"
						}
					]
				}) }}

				{{ govukButton({
					text: "Continue",
					type: "submit",
					attributes: { "data-cy":"button-save-and-continue"}
				}) }}
			</form>
		</div>
	</div>
{% endblock %}
