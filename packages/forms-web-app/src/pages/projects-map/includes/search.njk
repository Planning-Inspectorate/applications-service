{% from "components/ui/search-bar.njk" import uiSearchBar %}

{{ uiSearchBar('projects-map-search-bar', 'searchTerm', query.searchTerm, t('projectsMap.searchAccessibilityText'), t('common.search')) }}

<div class="govuk-button-group govuk-!-margin-bottom-4">
	{% if showFilters or activeFilters | length %}
		<form method="post" action="/projects-map/hide-filters?{{ query | urlencode }}">
			<input type="hidden" name="_csrf" value="{{ _csrf }}"/>
			<button type="submit" class="govuk-button govuk-button--secondary projects-map__filter-toggle">{{ t('projectsMap.hideFilters') }}</button>
		</form>
	{% else %}
		<form method="post" action="/projects-map/show-filters?{{ query | urlencode }}">
			<input type="hidden" name="_csrf" value="{{ _csrf }}"/>
			<button type="submit" class="govuk-button govuk-button--secondary projects-map__filter-toggle">{{ t('projectsMap.showFilters') }}</button>
		</form>
	{% endif %}
	<a href="{{ projectSearchURL }}?{{ query | urlencode }}" class="govuk-link">{{ t('projectsMap.switchToListView') }}</a>
</div>
