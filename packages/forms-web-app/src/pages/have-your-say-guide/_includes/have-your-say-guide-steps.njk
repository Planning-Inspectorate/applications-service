{% from "components/ui/step-by-step-navigation.njk" import stepByStepNavigation %}

{% set params = {
  steps: [
    {
      heading: {
        text: haveYourSayGuide.steps.takingPart.title
      },
      content: {
        text: haveYourSayGuide.steps.takingPart.content
      },
      subList: [
        {
          text: haveYourSayGuide.steps.takingPart.linkText,
          href: haveYourSayGuide.steps.takingPart.url
        }
      ]
    }, {
      heading: {
        text: haveYourSayGuide.steps.registering.title
      },
      content: {
        text: haveYourSayGuide.steps.registering.content
      },
      subList: [
        {
          text: haveYourSayGuide.steps.registering.linkText,
          href: haveYourSayGuide.steps.registering.url
        }
      ]
    }, {
      heading: {
        text: haveYourSayGuide.steps.getInvolved.title
      },
      content: {
        text: haveYourSayGuide.steps.getInvolved.content
      },
      subList: [
        {
          text: haveYourSayGuide.steps.getInvolved.linkText,
          href: haveYourSayGuide.steps.getInvolved.url
        }
      ]
    }, {
      heading: {
        text: haveYourSayGuide.steps.duringExamination.title
      },
      content: {
        text: haveYourSayGuide.steps.duringExamination.content
      },
      subList: [
        {
          text: haveYourSayGuide.steps.duringExamination.linkText,
          href: haveYourSayGuide.steps.duringExamination.url
        }
      ]
    }, {
      heading: {
        text: haveYourSayGuide.steps.decisionMade.title
      },
      content: {
        text: haveYourSayGuide.steps.decisionMade.content
      },
      subList: [
        {
          text: haveYourSayGuide.steps.decisionMade.linkText,
          href: haveYourSayGuide.steps.decisionMade.url
        }
      ]
    }
  ]
} %}

{# keep /index for e2e tests #}
{% if templateID !== 'main' %}
  {% set params = {
    pretitle: "Part of",
    title: haveYourSayGuide.steps.index.title,
    url: haveYourSayGuide.steps.index.url,
    steps: params.steps
  } %}
{% endif %}

{% set state = 'static' %}

{% if templateID === 'main' %}
  {% set state = 'dynamic' %}
{% endif %}

{{ stepByStepNavigation(params, haveYourSayGuide.activeStep.step, templateID, state, t) }}